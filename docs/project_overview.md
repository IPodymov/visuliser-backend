# Обзор проекта Visualizer Backend

## Цель проекта
Разработка веб-приложения для визуализации, анализа и сравнения основных профессиональных образовательных программ (ОПОП). Система позволяет загружать учебные планы, анализировать их содержание на предмет соответствия различным компетенциям (IT, CS, SE и др.) и предоставлять наглядные графические отчеты.

## Архитектура
Проект построен на базе фреймворка **Django** и **Django REST Framework (DRF)**.

### Основные компоненты:
1.  **Users (Пользователи)**:
    *   Управление аутентификацией и авторизацией.
    *   Ролевая модель: Пользователь, Сотрудник, Администратор.
    *   Разграничение прав доступа к API.

2.  **Programs (Образовательные программы)**:
    *   Хранение данных об учебных планах и дисциплинах.
    *   **Парсер Excel**: Модуль для автоматического импорта данных из файлов `.xlsx`.
    *   **API загрузки**: Эндпоинт для загрузки программ через HTTP (для сотрудников и админов).
    *   **Валидация**: Проверка корректности данных (профиль не может быть "nan" или пустым).
    *   **Анализатор компетенций**: Алгоритм, оценивающий направленность программы на основе ключевых слов в названиях дисциплин и их трудоемкости (ЗЕТ).

3.  **API**:
    *   RESTful API для взаимодействия с фронтендом.
    *   Эндпоинты для получения списков программ, детальной информации, результатов анализа и сравнения.
    *   Поддержка CORS для работы с фронтендом на другом домене.

## Ключевые возможности

### 1. Импорт данных
Система поддерживает загрузку учебных планов из Excel-файлов двумя способами:
*   **Массовая загрузка** через management command `parse_excel`
*   **Загрузка через API** (POST `/api/programs/upload/`) — для сотрудников и администраторов

Парсер автоматически извлекает метаданные программы (направление, профиль, год) и список дисциплин с их характеристиками.

### 2. Группировка дисциплин
Дисциплины в API группируются по названию. Для каждой дисциплины показаны:
*   Код, блок, часть, модуль
*   Суммарные зачётные единицы (ЗЕТ)
*   Список семестров с видами контроля (Экзамен, Зачет, Курсовой проект и т.д.)

### 3. Анализ компетенций
Каждая программа анализируется по 7 ключевым областям (на основе классификации Computing Curricula):
*   **CE (Computer Engineering)**: Аппаратное обеспечение, электроника.
*   **CS (Computer Science)**: Алгоритмы, математика, ИИ.
*   **SE (Software Engineering)**: Разработка ПО, тестирование, управление проектами.
*   **IT (Information Technology)**: Администрирование, сети, инфраструктура.
*   **IS (Information Systems)**: Бизнес-процессы, управление предприятием.
*   **CSEC (Cybersecurity)**: Информационная безопасность.
*   **DS (Data Science)**: Анализ данных, статистика.

### 4. Сравнение программ
Пользователи могут выбрать несколько образовательных программ для сравнения. Система предоставляет данные для построения лепестковых диаграмм (Radar Charts), позволяющих визуально оценить различия в фокусе обучения.

### 5. Ролевая модель
*   **Гость**: Доступ только к странице входа/регистрации.
*   **Пользователь**: Просмотр программ, анализ и сравнение.
*   **Сотрудник**: Загрузка новых данных через API.
*   **Администратор**: Полный доступ, управление пользователями.

### 6. Валидация данных
При загрузке программ выполняется валидация:
*   Профиль не может быть пустым или равным "nan"
*   Обязательно наличие номера АУП
*   Формат файла должен быть `.xlsx`

### 7. Поиск и Оптимизация
*   **Фильтрация**: Возможность отбора программ по году, уровню образования и факультету.
*   **Поиск**: Полнотекстовый поиск по профилю, направлению и коду АУП.
*   **Кэширование**: Использование Redis для кэширования результатов тяжелых запросов (списки программ, анализ), что значительно ускоряет работу API.

## Технический стек

| Компонент | Технология |
|-----------|------------|
| Backend Framework | Django 6.0 |
| REST API | Django REST Framework 3.16 |
| База данных | PostgreSQL |
| Кэширование | Redis (django-redis) |
| CORS | django-cors-headers |
| Парсинг Excel | pandas, openpyxl |
| Деплой | Gunicorn, WhiteNoise |
| Хостинг | Railway |
